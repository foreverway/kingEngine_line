(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"7OAo":function(e,a,t){"use strict";t.r(a);t("EdcA");var r=t("rKq6"),n=t("mK77"),s=t.n(n),c=t("Ico4"),o=t.n(c),u=t("nWk1");a["default"]={namespace:"dataSourceModel",state:{listData:[],selectedRowKeys:[],selectedRows:[],showModal:!1,editType:"create",showAddModal:!1,formData:{}},subscriptions:{setup:function(e){var a=e.dispatch,t=e.history;t.listen(function(e){var t=e.pathname;"/datamanager/datasource"===t&&(a({type:"stateChange",payload:{searchText:[""]}}),a({type:"queryList"}))})}},effects:{insert:o.a.mark(function e(a,t){var r,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload.formData,t.call,n=t.put,e.next=4,u["a"].createDatasource([r]);case 4:return e.next=6,n({type:"queryList"});case 6:return e.next=8,n({type:"stateChange",payload:{showAddModal:!1,selectedRowKeys:[],selectedRows:[]}});case 8:case"end":return e.stop()}},e)}),updateDataSource:o.a.mark(function e(a,t){var r,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,t.call,n=t.put,e.next=4,n({type:"test",payload:r});case 4:return e.next=6,u["a"].updateDatasource([r.param]);case 6:return e.next=8,n({type:"stateChange",payload:{showModal:!1}});case 8:case"end":return e.stop()}},e)}),createDataSource:o.a.mark(function e(a,t){var r,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,t.call,n=t.put,e.next=4,n({type:"test",payload:r});case 4:return e.next=6,u["a"].createDatasource([r.param]);case 6:return e.next=8,n({type:"stateChange",payload:{showModal:!1}});case 8:case"end":return e.stop()}},e)}),test:o.a.mark(function e(a,t){var r;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,t.call,t.put,e.next=4,u["a"].testDatasource(r.param);case 4:case"end":return e.stop()}},e)}),queryList:o.a.mark(function e(a,t){var r,n,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,t.call,n=t.put,e.next=4,u["a"].queryDatasource();case 4:return c=e.sent,e.next=7,n({type:"stateChange",payload:s()({listData:c,selectedRowKeys:[],selectedRows:[]},r)});case 7:case"end":return e.stop()}},e)}),delete:o.a.mark(function e(a,t){var n,s,c,p;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.payload,s=t.call,c=t.put,p=n.map(function(e){return{uuId:"".concat(e)}}),e.next=5,s(u["a"].deleteDatasource,p);case 5:return e.next=7,c({type:"stateChange",payload:{selectedRowKeys:[],selectedRows:[]}});case 7:return r["a"].success("\u5220\u9664\u6210\u529f"),e.next=10,c({type:"queryList",payload:{selectedRowKeys:[]}});case 10:case"end":return e.stop()}},e)})},reducers:{stateChange:function(e,a){var t=a.payload;return s()({},e,t)}}}}}]);